# 如何满足小众的录屏需求？自己配置 FFmpeg 解决问题 - 少数派
- URL: https://sspai.com/post/76637
- Added At: 2025-04-08 01:55:50
- [Link To Text](2025-04-08-如何满足小众的录屏需求？自己配置-ffmpeg-解决问题---少数派_raw.md)

## TL;DR
文章介绍了作者使用FFmpeg解决特殊录屏需求（超低帧率、长时间录制、画中画）的经历，对比了多种录屏软件的不足，详细讲解了FFmpeg的配置方法、参数设置和常见问题解决，并总结了其稳定性和自定义优势。

## Summary
1. **文章主题**：如何通过配置FFmpeg满足小众录屏需求
   - 作者清顺分享了自己使用FFmpeg解决特殊录屏需求的经历

2. **录屏需求背景**：
   - 用于自我监控，需要长时间录制（12小时以上）
   - 特殊要求：
     - 极低帧率（0.02帧/秒）
     - 可自定义分辨率
     - 同时录制屏幕和摄像头
     - 画中画功能

3. **尝试过的录屏软件及问题**：
   - VLC：
     - 操作复杂
     - 无法同时录屏和摄像头
     - 暂停易崩溃
   - OBS：
     - 输出文件过大
     - 无法分开录制和直播画面
   - Capture（已停止更新）：
     - 稳定性差
     - 频繁报错
   - Bandicam：
     - 稳定性较好
     - 但会丢失摄像头
   - 其他测试软件：
     - Windows相机：功能有限
     - FlashBack Express：免费版限制2小时
     - Mirillis Action!：最低15帧
     - oCam：有广告
     - ShareX：只能单一录屏

4. **选择FFmpeg的原因**：
   - 底层工具，稳定性高
   - 完全自定义：
     - 帧率
     - 分辨率
     - 编码方式
   - 支持复杂功能：
     - 多屏幕选择
     - 画中画
     - 长时间录制

5. **FFmpeg配置步骤**：
   - 下载安装：
     - 推荐GPL版本
     - 设置环境变量
   - 设备配置：
     - 使用screen-capture-recorder增强功能
     - 查看设备命令：`ffmpeg -list_devices true -f dshow -i dummy`
   - 录制命令详解：
     - 基本参数：
       - `-f gdigrab`：屏幕录制
       - `-r`：帧率设置
       - `-draw_mouse`：显示鼠标
       - `-offset_x/y`和`-video_size`：选择区域
     - 高级参数：
       - `-c:v libx264`：视频编码
       - `-s`：分辨率缩放
       - `-filter_complex`：画中画

6. **常见问题解决**：
   - `Could not set video options`：检查设备支持参数
   - `real-time buffer`：参考GitHub issue
   - 摄像头分辨率异常：检查驱动设置
   - 画面偏移：调整DPI缩放

7. **FFmpeg优势总结**：
   - 功能全面：
     - 录屏
     - 视频处理
     - 流媒体
   - 稳定性高于GUI工具
   - 学习曲线：
     - 初期需学习命令
     - 掌握后效率高

8. **后续建议**：
   - 推荐直接阅读官方文档
   - 不推荐自动生成命令工具
   - 可探索更多功能：
     - 视频转码
     - 连续截图
     - 流媒体处理

9. **读者互动**：
   - 讨论点：
     - Mac版解决方案
     - 文件名时间戳格式
     - 低帧率适用场景
   - 工具推荐：
     - Quicker封装FFmpeg命令
     - 如快（Windows启动器）

10. **关联内容**：
    - 作者其他文章：
      - 《闭关家中，我将监控摄像对准了自己》
      - 《Zoom会议摸鱼学》
    - 相关技术文档链接
